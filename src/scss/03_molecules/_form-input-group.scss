.m-form-input-group {
  position: relative;
}

.m-form-input-group .a-form-field__input {
  display: flex;
}

.m-form-input-group .a-form-field__error {
  flex: 1;
  padding-left: 0;
}

.m-form-input-group__append,
.m-form-input-group__prepend {
  align-items: center;
  display: flex;
  height: map-get($formConfig, fieldHeight);
  justify-content: center;
  mix-blend-mode: darken;
  position: absolute;
  width: map-get($formConfig, fieldHeight);
  z-index: 2;

  &.is-large {
    width: map-get($formConfig, fieldHeight) * 1.5;
  }
}

.m-form-input-group__append {
  border-left: map-get($formConfig, borderWidth) solid color(shape);
  cursor: pointer;
  right: 0;

  & ~ .a-form-field__input {
    padding-right: map-get($formConfig, fieldHeight) + map-get($formConfig, fieldPadding);
  }

  &.is-large ~ .a-form-field__input {
    padding-right: map-get($formConfig, fieldHeight) * 1.5 + nth(map-get($formConfig, fieldPadding), 2);
  }

  & ~ .a-form-field__input:disabled {
    pointer-events: all;
    z-index: 2;
  }

  &.noBorder {
    border-left: 0;
  }
}

.m-form-input-group__prepend {
  left: 0;
  border-right: map-get($formConfig, borderWidth) solid color(shape);

  & ~ .a-form-field__input {
    padding-left: map-get($formConfig, fieldHeight) + nth(map-get($formConfig, fieldPadding), 2);
  }

  &.is-large ~ .a-form-field__input {
    padding-left: map-get($formConfig, fieldHeight) * 1.5 + nth(map-get($formConfig, fieldPadding), 2);
  }
}
